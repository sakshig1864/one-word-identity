{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function OneWordForm(){const[word,setWord]=useState(\"\");const[explanation,setExplanation]=useState(\"\");const[result,setResult]=useState(null);const[timeLeft,setTimeLeft]=useState(120);// 2 minutes = 120 seconds\nconst[isTimerActive,setIsTimerActive]=useState(false);// Timer countdown\nuseEffect(()=>{if(!isTimerActive||timeLeft<=0)return;const timer=setInterval(()=>{setTimeLeft(prev=>{if(prev<=1){handleAutoSubmit();return 0;}return prev-1;});},1000);return()=>clearInterval(timer);},[isTimerActive,timeLeft]);// Start timer when user starts typing\nconst handleWordChange=e=>{setWord(e.target.value);if(!isTimerActive&&e.target.value.length>0){setIsTimerActive(true);}};const handleExplanationChange=e=>{setExplanation(e.target.value);if(!isTimerActive&&e.target.value.length>0){setIsTimerActive(true);}};const handleAutoSubmit=async()=>{if(word.trim()&&explanation.trim()){await handleSubmit(null);}setIsTimerActive(false);};const handleSubmit=async e=>{if(e)e.preventDefault();try{const response=await axios.post(\"http://127.0.0.1:5000/analyze\",{word,explanation});setResult(response.data);setIsTimerActive(false);}catch(error){console.error(\"Error analyzing:\",error);}};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins,\":\").concat(secs.toString().padStart(2,\"0\"));};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[isTimerActive&&timeLeft>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"timer\",children:[\"\\u23F1\\uFE0F Time remaining: \",/*#__PURE__*/_jsx(\"strong\",{children:formatTime(timeLeft)})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Your One Word:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:word,onChange:handleWordChange,placeholder:\"e.g. \\\"Determined\\\", \\\"Curious\\\"\",required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Explain why:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:explanation,onChange:handleExplanationChange,placeholder:\"Write a short explanation...\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Analyze\"})]}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"result\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Analysis Result\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"scores\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"score-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"score-label\",children:\"Overall Score\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"score-value\",children:[result.rating,\"/10\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"score-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"score-label\",children:\"Word Score\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"score-value\",children:[result.word_sentiment,\"/10\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"score-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"score-label\",children:\"Explanation Score\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"score-value\",children:[result.explanation_sentiment,\"/10\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feedback\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Feedback:\"}),/*#__PURE__*/_jsx(\"p\",{children:result.feedback})]})]})]});}export default OneWordForm;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","OneWordForm","word","setWord","explanation","setExplanation","result","setResult","timeLeft","setTimeLeft","isTimerActive","setIsTimerActive","timer","setInterval","prev","handleAutoSubmit","clearInterval","handleWordChange","e","target","value","length","handleExplanationChange","trim","handleSubmit","preventDefault","response","post","data","error","console","formatTime","seconds","mins","Math","floor","secs","concat","toString","padStart","className","children","onSubmit","type","onChange","placeholder","required","rating","word_sentiment","explanation_sentiment","feedback"],"sources":["D:/one-word-identity/frontend/src/components/OneWordForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction OneWordForm() {\r\n  const [word, setWord] = useState(\"\");\r\n  const [explanation, setExplanation] = useState(\"\");\r\n  const [result, setResult] = useState(null);\r\n  const [timeLeft, setTimeLeft] = useState(120); // 2 minutes = 120 seconds\r\n  const [isTimerActive, setIsTimerActive] = useState(false);\r\n\r\n  // Timer countdown\r\n  useEffect(() => {\r\n    if (!isTimerActive || timeLeft <= 0) return;\r\n\r\n    const timer = setInterval(() => {\r\n      setTimeLeft((prev) => {\r\n        if (prev <= 1) {\r\n          handleAutoSubmit();\r\n          return 0;\r\n        }\r\n        return prev - 1;\r\n      });\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, [isTimerActive, timeLeft]);\r\n\r\n  // Start timer when user starts typing\r\n  const handleWordChange = (e) => {\r\n    setWord(e.target.value);\r\n    if (!isTimerActive && e.target.value.length > 0) {\r\n      setIsTimerActive(true);\r\n    }\r\n  };\r\n\r\n  const handleExplanationChange = (e) => {\r\n    setExplanation(e.target.value);\r\n    if (!isTimerActive && e.target.value.length > 0) {\r\n      setIsTimerActive(true);\r\n    }\r\n  };\r\n\r\n  const handleAutoSubmit = async () => {\r\n    if (word.trim() && explanation.trim()) {\r\n      await handleSubmit(null);\r\n    }\r\n    setIsTimerActive(false);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    if (e) e.preventDefault();\r\n\r\n    try {\r\n      const response = await axios.post(\"http://127.0.0.1:5000/analyze\", {\r\n        word,\r\n        explanation,\r\n      });\r\n      setResult(response.data);\r\n      setIsTimerActive(false);\r\n    } catch (error) {\r\n      console.error(\"Error analyzing:\", error);\r\n    }\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      {isTimerActive && timeLeft > 0 && (\r\n        <div className=\"timer\">\r\n          ‚è±Ô∏è Time remaining: <strong>{formatTime(timeLeft)}</strong>\r\n        </div>\r\n      )}\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <label>Your One Word:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={word}\r\n          onChange={handleWordChange}\r\n          placeholder='e.g. \"Determined\", \"Curious\"'\r\n          required\r\n        />\r\n\r\n        <label>Explain why:</label>\r\n        <textarea\r\n          value={explanation}\r\n          onChange={handleExplanationChange}\r\n          placeholder=\"Write a short explanation...\"\r\n          required\r\n        ></textarea>\r\n\r\n        <button type=\"submit\">Analyze</button>\r\n      </form>\r\n\r\n      {result && (\r\n        <div className=\"result\">\r\n          <h3>üìä Analysis Result</h3>\r\n\r\n          <div className=\"scores\">\r\n            <div className=\"score-item\">\r\n              <span className=\"score-label\">Overall Score</span>\r\n              <span className=\"score-value\">{result.rating}/10</span>\r\n            </div>\r\n            <div className=\"score-item\">\r\n              <span className=\"score-label\">Word Score</span>\r\n              <span className=\"score-value\">{result.word_sentiment}/10</span>\r\n            </div>\r\n            <div className=\"score-item\">\r\n              <span className=\"score-label\">Explanation Score</span>\r\n              <span className=\"score-value\">\r\n                {result.explanation_sentiment}/10\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"feedback\">\r\n            <strong>Feedback:</strong>\r\n            <p>{result.feedback}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OneWordForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}